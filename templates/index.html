<!DOCTYPE HTML>
<html>
	<head>
		<title>MMO Asteroidz</title>
		<script type="text/javascript" src="//code.jquery.com/jquery-1.4.2.min.js"></script>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script>
		<script type="text/javascript" charset="utf-8">
		$(document).ready(function() {
			namespace = '/test';
			var socket = io.connect(location.protocol + '//' + document.domain + ':' + location.port + namespace);
			socket.on('connect', function() {
				socket.emit('join', {data: 'I\'m connected!'} );
			});

			socket.on('joined', function(data){
				var sockid_prefix = socket.nsp + "#";
				var identifier = socket["id"].replace("", sockid_prefix);
				var canvas = document.getElementById('gamespace');
				for (var user in data){
					if (canvas.getContext) {
						var ctx = canvas.getContext('2d');
						ctx.beginPath();
						ctx.moveTo(data[user].x, data[user].y);
						ctx.lineTo(data[user].x+20, data[user].y+20);
						ctx.lineTo(data[user].x, data[user].y+40);
						ctx.fillStyle = "#"+data[user].colour;
						ctx.fill();
					}
				}
			});

		});
		</script>
		<style>
		#gamespace {
			border: 1px solid #e0e0e0;
		}
		</style>
	</head>
	<body>
		<canvas id="gamespace" width="700" height="600"></canvas>
	</body>
</html>
